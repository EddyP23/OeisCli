{"version":3,"sources":["webpack:///shared-lib/src/components/shared-offer-attributes/shared-offer-attributes.component.html","webpack:///shared-lib/src/components/shared-offer-attributes/shared-offer-attributes.component.ts","webpack:///src/app/root-store/offers/actions.ts","webpack:///src/app/shared/components/buy-now-card/buy-now-card.component.ts","webpack:///src/app/root-store/offers/offers-store.module.ts","webpack:///src/app/root-store/offers/reducer.ts","webpack:///src/app/shared/components/offer-details-desktop/offer-details-desktop.component.ts","webpack:///shared-lib/src/components/shared-user-short-info/shared-user-short-info.component.ts","webpack:///src/app/shared/components/offer-details-mobile/offer-details-mobile.component.ts","webpack:///src/app/shared/components/other-seller-discount/other-seller-discount.component.ts","webpack:///src/app/shared/components/offer-not-available-card/offer-not-available-card.component.ts","webpack:///src/app/shared/components/other-sellers-for-offer/other-sellers-for-offer.component.ts","webpack:///shared-lib/src/components/shared-offer-attributes/shared-offer-attributes.module.ts","webpack:///src/app/root-store/offers/state.ts","webpack:///src/app/shared/modules/game-offer-page-view/game-offer-page-view.module.ts","webpack:///src/app/root-store/offers/selectors.ts","webpack:///src/app/root-store/offers/index.ts","webpack:///shared-lib/src/payments-calculations/discount-calculation/discount-calculations.ts","webpack:///src/app/shared/components/game-offer-page-view/game-offer-page-view.component.ts","webpack:///src/app/root-store/offers/effects.ts","webpack:///shared-lib/src/helpers/delivery-time-calculation/delivery-time-calculation.helper.ts","webpack:///src/app/shared/components/volume-discount-label/volume-discount-label.component.ts","webpack:///src/app/shared/components/volume-discount-label/volume-discount-label.component.html","webpack:///src/app/shared/components/buy-now-card/buy-now-card.component.html","webpack:///src/app/shared/components/offer-details-desktop/offer-details-desktop.component.html","webpack:///src/app/shared/components/offer-details-mobile/offer-details-mobile.component.html","webpack:///src/app/shared/components/offer-not-available-card/offer-not-available-card.component.html","webpack:///src/app/shared/components/other-seller-discount/other-seller-discount.component.html","webpack:///src/app/shared/components/other-sellers-for-offer/other-sellers-for-offer.component.html","webpack:///src/app/shared/components/game-offer-page-view/game-offer-page-view.component.html","webpack:///shared-lib/src/components/shared-user-short-info/shared-user-short-info.component.html"],"names":["SharedOfferAttributesComponent","value","ActionTypes","LOAD_PREDEFINED_GAME_OFFERS","LOAD_PREDEFINED_GAME_OFFERS_SUCCESS","LOAD_PREDEFINED_GAME_OFFERS_FAILURE","LOAD_FLEXIBLE_GAME_OFFERS","LOAD_FLEXIBLE_GAME_OFFERS_SUCCESS","LOAD_FLEXIBLE_GAME_OFFERS_FAILURE","RESET_OFFERS","LoadPredefinedGameOffersAction","payload","type","LoadPredefinedGameOffersSuccessAction","LoadPredefinedGameOffersFailureAction","LoadFlexibleGameOffersAction","LoadFlexibleGameOffersSuccessAction","LoadFlexibleGameOffersFailureAction","ResetOffersAction","BuyNowCardComponent","buttonPress","EventEmitter","buttonColorEnum","buttonPressed","env","validationErrors","offerUrlSplitterEnum","deliveryMethodEnum","assetEnum","this","offer","discounts","unitSystem","changes","deliveryTime","sellerDeliveryAverage","buyNowFormGroup","valid","emit","getValidationErrors","currentUserProfile","userId","id","scroll","canBuyerSeeQuantity","offerType","formGroup","get","errors","getError","push","OffersStoreModule","featureReducer","state","action","filterParams","loading","loaded","error","offers","flexibleOffers","OfferDetailsDesktopComponent","contactSeller","openImageModal","exceedsDescriptionLimit","isDescriptionPartlyHidden","itemTreeTypeEnum","offerTitle","itemId","itemName","offerAttributeIdValues","offerImages","smallImages","slice","getStadardImageUrl","getCustomOfferImage","standardImageUrl","getItemImageUrl","gameId","itemImageLocation","mainImage","mainOfferImage","tradeEnvironmentValues","image","map","smallImage","index","offerDetailsDescription","nativeElement","offsetHeight","SharedUserShortInfoComponent","userTabEnum","verificationStatusEnum","user","OfferDetailsMobileComponent","tradeShieldBlockEnum","OtherSellerDiscountComponent","OfferNotAvailableCardComponent","otherSellersClick","OtherSellersForOfferComponent","navigateToAnotherOffer","screenWidthTypeEnum","event","offerId","target","localName","offerDetails","SharedOfferAttributesModule","initialState","GameOfferPageViewModule","getIsLoading","getIsLoaded","getOffers","getFlexibleOffers","getOffersFilterParams","selectOffersState","selectOffers","selectFlexibleOffers","selectPredefinedAndFlexibleOffers","selectOffersLoading","getDiscountDetails","quantity","unitPrice","discountPercentage","sort","a","b","reduce","acc","curr","percentage","discountedPrice","discountAmount","GameOfferPageViewComponent","pageSize","pageIndex","checkout","pageChange","screenTypeEnum","offerStatusEnum","activePage","OffersStoreEffects","offersService","actions$","loadPredefinedGameOffers$","pipe","getPredefinedGameOffers","loadFlexibleGameOffers$","getFlexibleGameOffers","results","forEach","imageUrl","largeImageUrl","smallImageUrl","originalSizeImageUrl","unshift","ifFlexibleOffers400Error$","resp","status","totalPages","recordCount","redirectIfOffersNotExist$","GoAction","path","loadOffersFailureEffect$","response","ShowErrorAction","getDeliveryTime","timeSpan","dateFrom","dateTo","getDurationFromAndToDates","isOrderOverdue","guaranteedDeliveryTime","getTimeSpanToSeconds","getGuaranteedDeliveryTimeInSeconds","modifiedAvgDeliveryTime","sellerAverage","humanizedDeliveryAvg","isLate","deliveryTimeMedian","expectedTime","humanizedDeliveryTimeMedian","duration","years","find","d","format","months","days","hours","minutes","seconds","yearsHumanized","toString","datePluralEnding","monthsHumanized","daysHumanized","hoursHumanized","minutesHumanized","Math","abs","hasDays","split","length","time","Date","VolumeDiscountLabelComponent"],"mappings":"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","file":"x","sourcesContent":["<ng-container *ngIf=\"offerAttributeIdValues\">\r\n  <ng-container *ngFor=\"let attribute of offerAttributeIdValues\">\r\n    <span *ngIf=\"isNotNoneValue(attribute.value)\" class=\"small-chip\">{{attribute.value}}</span>\r\n  </ng-container>\r\n</ng-container>\r\n","import { Component, ChangeDetectionStrategy, Input } from '@angular/core';\r\nimport { isNotNone } from '@shared-lib/helpers/is-not-none/is-not-none.helper';\r\nimport { SharedOfferAttributeIdValue } from '@shared-lib/models/shared-offer.model';\r\n\r\n@Component({\r\n  selector: 'eld-shared-offer-attributes',\r\n  templateUrl: './shared-offer-attributes.component.html',\r\n  styleUrls: ['./shared-offer-attributes.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class SharedOfferAttributesComponent {\r\n  @Input() offerAttributeIdValues: SharedOfferAttributeIdValue[];\r\n\r\n  isNotNoneValue(value: string): boolean {\r\n    return isNotNone(value);\r\n  }\r\n}\r\n","import { Action } from '@ngrx/store';\r\nimport { SharedApiErrorResponse } from '@shared-lib/models/shared-error.model';\r\nimport { GameOffersParams } from '@shared/models/offer.model';\r\nimport { SharedPagedResult } from '@shared-lib/models/shared-paged-result.model';\r\nimport {\r\n  SharedOfferGroupPublic,\r\n  SharedFlexibleOfferViewModel,\r\n} from '@shared-lib/models/shared-offer.model';\r\n\r\nexport enum ActionTypes {\r\n  LOAD_PREDEFINED_GAME_OFFERS = '[Offers] Load Predefined Game Offers',\r\n  LOAD_PREDEFINED_GAME_OFFERS_SUCCESS = '[Offers] Load Predefined Game Offers Success Response',\r\n  LOAD_PREDEFINED_GAME_OFFERS_FAILURE = '[Offers] Load Predefined Game Offers Failure Response',\r\n  LOAD_FLEXIBLE_GAME_OFFERS = '[Offers] Load Flexible Game Offers',\r\n  LOAD_FLEXIBLE_GAME_OFFERS_SUCCESS = '[Offers] Load Flexible Game Offers Success Response',\r\n  LOAD_FLEXIBLE_GAME_OFFERS_FAILURE = '[Offers] Load Flexible Game Offers Failure Response',\r\n  RESET_OFFERS = '[Offers] Reset Offers State'\r\n}\r\n\r\nexport class LoadPredefinedGameOffersAction implements Action {\r\n  readonly type = ActionTypes.LOAD_PREDEFINED_GAME_OFFERS;\r\n\r\n  constructor(public payload: GameOffersParams) {}\r\n}\r\n\r\nexport class LoadPredefinedGameOffersSuccessAction implements Action {\r\n  readonly type = ActionTypes.LOAD_PREDEFINED_GAME_OFFERS_SUCCESS;\r\n\r\n  constructor(public payload: SharedPagedResult<SharedOfferGroupPublic>) {}\r\n}\r\n\r\nexport class LoadPredefinedGameOffersFailureAction implements Action {\r\n  readonly type = ActionTypes.LOAD_PREDEFINED_GAME_OFFERS_FAILURE;\r\n\r\n  constructor(public payload: SharedApiErrorResponse) {}\r\n}\r\n\r\nexport class LoadFlexibleGameOffersAction implements Action {\r\n  readonly type = ActionTypes.LOAD_FLEXIBLE_GAME_OFFERS;\r\n\r\n  constructor(public payload: GameOffersParams) {}\r\n}\r\n\r\nexport class LoadFlexibleGameOffersSuccessAction implements Action {\r\n  readonly type = ActionTypes.LOAD_FLEXIBLE_GAME_OFFERS_SUCCESS;\r\n\r\n  constructor(public payload: SharedPagedResult<SharedFlexibleOfferViewModel>) {}\r\n}\r\n\r\nexport class LoadFlexibleGameOffersFailureAction implements Action {\r\n  readonly type = ActionTypes.LOAD_FLEXIBLE_GAME_OFFERS_FAILURE;\r\n\r\n  constructor(public payload: SharedApiErrorResponse) {}\r\n}\r\n\r\nexport class ResetOffersAction implements Action {\r\n  readonly type = ActionTypes.RESET_OFFERS;\r\n}\r\n\r\nexport type Actions =\r\n  | LoadPredefinedGameOffersAction\r\n  | LoadPredefinedGameOffersSuccessAction\r\n  | LoadPredefinedGameOffersFailureAction\r\n  | LoadFlexibleGameOffersAction\r\n  | LoadFlexibleGameOffersSuccessAction\r\n  | LoadFlexibleGameOffersFailureAction\r\n  | ResetOffersAction;\r\n","import { SharedAssetEnum } from '@shared-lib/enums/shared-asset.enum';\r\nimport { SharedDeliveryMethodEnum } from '@shared-lib/enums/shared-delivery-method.enum';\r\nimport { ItemTreeTypeEnum } from '@shared-lib/item-tree/item-tree-type.enum';\r\nimport { Component, ChangeDetectionStrategy, Input, Output, EventEmitter, OnChanges, SimpleChanges } from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { SharedModifiedAvgDeliveryTime, SharedOrderAvgDeliveryTime } from '@shared-lib/models/shared-order.model';\r\nimport { SharedDiscountDetails, SharedOfferPublic, SharedFlexibleOfferPublic } from '@shared-lib/models/shared-offer.model';\r\nimport { PrivateUserProfile } from '@core/models/user.model';\r\nimport { fadeIn } from '@shared-lib/animations';\r\nimport { SharedButtonColorEnum } from '@shared-lib/enums/shared-button-color.enum';\r\nimport { environment } from '@env/environment';\r\nimport { SharedScrollHelper } from '@shared-lib/helpers/scroll/shared-scroll.helper';\r\nimport { SharedUserOrderGetPublic } from '@shared-lib/models/shared-order.model';\r\nimport { modifiedAvgDeliveryTime } from '@shared-lib/helpers/delivery-time-calculation/delivery-time-calculation.helper';\r\nimport { SharedOfferUrlSplitterEnum } from '@shared-lib/models/shared-offer-url-splitter.enum';\r\nimport { SharedDiscount } from '@shared-lib/models/shared-offer.model';\r\nimport { SharedItemUnitsType } from '@shared-lib/types/shared-item-units.type';\r\nimport { SharedOfferHelper } from '@shared-lib/helpers/offer/shared-offer.helper';\r\n\r\n@Component({\r\n  selector: 'eld-buy-now-card',\r\n  templateUrl: './buy-now-card.component.html',\r\n  styleUrls: ['./buy-now-card.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  animations: [fadeIn]\r\n})\r\nexport class BuyNowCardComponent implements OnChanges {\r\n\r\n  @Input() buyNowFormGroup: FormGroup;\r\n  @Input() currentUserProfile: PrivateUserProfile;\r\n  @Input() discountDetails: SharedDiscountDetails;\r\n  @Input() offer: SharedOfferPublic | SharedFlexibleOfferPublic;\r\n  @Input() otherSellersCount: number;\r\n  @Input() userOrderInfo: SharedUserOrderGetPublic;\r\n  @Input() deliveryTime: SharedOrderAvgDeliveryTime;\r\n  @Input() offerType: ItemTreeTypeEnum;\r\n  @Input() offerSplitter: SharedOfferUrlSplitterEnum;\r\n  @Output() buttonPress = new EventEmitter<null>();\r\n\r\n  buttonColorEnum = SharedButtonColorEnum;\r\n  buttonPressed = false;\r\n  env = environment;\r\n  validationErrors: string[] = [];\r\n  sellerDeliveryAverage: SharedModifiedAvgDeliveryTime;\r\n  offerUrlSplitterEnum = SharedOfferUrlSplitterEnum;\r\n  deliveryMethodEnum = SharedDeliveryMethodEnum;\r\n  assetEnum = SharedAssetEnum;\r\n\r\n  get offerDiscounts(): SharedDiscount[] {\r\n    return (this.offer as SharedOfferPublic).discounts;\r\n  }\r\n\r\n  get offerUnitSystem(): SharedItemUnitsType {\r\n    return (this.offer as SharedOfferPublic).unitSystem;\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    if (changes.deliveryTime) {\r\n      this.sellerDeliveryAverage = modifiedAvgDeliveryTime(this.deliveryTime);\r\n    }\r\n  }\r\n\r\n  buttonClick(): void {\r\n    this.buttonPressed = true;\r\n    if (this.buyNowFormGroup.valid) {\r\n      this.buttonPress.emit();\r\n      this.validationErrors = [];\r\n    } else {\r\n      this.validationErrors = this.getValidationErrors(this.buyNowFormGroup);\r\n    }\r\n  }\r\n\r\n  isBuyerAlsoSeller(): boolean {\r\n    return this.currentUserProfile ? this.offer.userId === this.currentUserProfile.id : false;\r\n  }\r\n\r\n  scrollToSellers(): void {\r\n    SharedScrollHelper.scroll('#other-sellers');\r\n  }\r\n\r\n  canBuyerSeeQuantity(): boolean {\r\n    return SharedOfferHelper.canBuyerSeeQuantity(this.offerType);\r\n  }\r\n\r\n  private getValidationErrors(formGroup: FormGroup): string[] {\r\n    const validationErrors: string[] = [];\r\n\r\n    if (this.canBuyerSeeQuantity()) {\r\n      if (formGroup.get('quantity') && formGroup.get('quantity').errors) {\r\n        if (formGroup.get('quantity').getError('min') || formGroup.get('quantity').getError('required')) {\r\n          validationErrors.push('Quantity must be above or equal to Minimum Order quantity');\r\n        } else if (formGroup.get('quantity').getError('max')) {\r\n          validationErrors.push('Quantity must not exceed the available amount.');\r\n        }\r\n      }\r\n    }\r\n\r\n    return validationErrors;\r\n  }\r\n\r\n}\r\n","import { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { EffectsModule } from '@ngrx/effects';\r\nimport { StoreModule } from '@ngrx/store';\r\nimport { featureReducer } from '@root-store/offers/reducer';\r\nimport { OffersStoreEffects } from '@root-store/offers/effects';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    StoreModule.forFeature('offers', featureReducer),\r\n    EffectsModule.forFeature([OffersStoreEffects])\r\n  ],\r\n  providers: [\r\n    OffersStoreEffects\r\n  ]\r\n})\r\nexport class OffersStoreModule { }\r\n","import { Actions, ActionTypes } from './actions';\r\nimport { initialState, State } from './state';\r\n\r\nexport function featureReducer(state = initialState, action: Actions): State {\r\n  switch (action.type) {\r\n    case ActionTypes.LOAD_PREDEFINED_GAME_OFFERS:\r\n    case ActionTypes.LOAD_FLEXIBLE_GAME_OFFERS: {\r\n      return {\r\n        ...state,\r\n        filterParams: action.payload,\r\n        loading: true,\r\n        loaded: false,\r\n        error: null\r\n      };\r\n    }\r\n    case ActionTypes.LOAD_PREDEFINED_GAME_OFFERS_SUCCESS: {\r\n      return {\r\n        ...state,\r\n        offers: action.payload,\r\n        flexibleOffers: null,\r\n        loading: false,\r\n        loaded: true,\r\n        error: null\r\n      };\r\n    }\r\n    case ActionTypes.LOAD_FLEXIBLE_GAME_OFFERS_SUCCESS: {\r\n      return {\r\n        ...state,\r\n        offers: null,\r\n        flexibleOffers: action.payload,\r\n        loading: false,\r\n        loaded: true,\r\n        error: null\r\n      };\r\n    }\r\n    case ActionTypes.LOAD_PREDEFINED_GAME_OFFERS_FAILURE:\r\n    case ActionTypes.LOAD_FLEXIBLE_GAME_OFFERS_FAILURE: {\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        loaded: false,\r\n        error: action.payload\r\n      };\r\n    }\r\n    case ActionTypes.RESET_OFFERS: {\r\n      return initialState;\r\n    }\r\n    default: {\r\n      return state;\r\n    }\r\n  }\r\n}\r\n","import { SharedAssetsDeliveryHelper } from '@shared-lib/helpers/url/shared-assets-delivery.helper';\r\nimport { SharedButtonColorEnum } from '@shared-lib/enums/shared-button-color.enum';\r\nimport { ItemTreeTypeEnum } from '@shared-lib/item-tree/item-tree-type.enum';\r\nimport {\r\n  Component,\r\n  Input,\r\n  ChangeDetectionStrategy,\r\n  ViewChild,\r\n  ElementRef,\r\n  AfterViewInit,\r\n  OnChanges,\r\n  SimpleChanges,\r\n  Output,\r\n  EventEmitter\r\n} from '@angular/core';\r\nimport { SharedUserOrders } from '@shared-lib/models/shared-order.model';\r\nimport { fadeIn } from '@shared-lib/animations';\r\nimport {\r\n  SharedOfferPublic,\r\n  SharedFlexibleOfferPublic,\r\n  SharedOfferTradeEnvironmentValue,\r\n  SharedFlexibleOfferImage\r\n} from '@shared-lib/models/shared-offer.model';\r\nimport { OtherSellersList } from '@features/game-offer/models/other-sellers-list.model';\r\nimport { SharedScrollHelper } from '@shared-lib/helpers/scroll/shared-scroll.helper';\r\nimport { isNotNone } from '@shared-lib/helpers/is-not-none/is-not-none.helper';\r\nimport { SharedPublicUserProfile } from '@shared-lib/models/shared-user.model';\r\nimport { SharedOfferUrlSplitterEnum } from '@shared-lib/models/shared-offer-url-splitter.enum';\r\n\r\n@Component({\r\n  selector: 'eld-offer-details-desktop',\r\n  templateUrl: './offer-details-desktop.component.html',\r\n  styleUrls: ['./offer-details-desktop.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  animations: [fadeIn]\r\n})\r\nexport class OfferDetailsDesktopComponent implements OnChanges, AfterViewInit {\r\n  @Input() offer: SharedOfferPublic | SharedFlexibleOfferPublic;\r\n  @Input() user: SharedPublicUserProfile;\r\n  @Input() userOrderInfo: SharedUserOrders;\r\n  @Input() isUserSeller: boolean;\r\n  @Input() offerSplitter: SharedOfferUrlSplitterEnum;\r\n  @Input() otherSellersList: OtherSellersList;\r\n  @Input() offerType: ItemTreeTypeEnum;\r\n  @Output() contactSeller = new EventEmitter<SharedFlexibleOfferPublic>();\r\n  @Output() openImageModal = new EventEmitter<SharedFlexibleOfferImage>();\r\n\r\n  buttonColorEnum = SharedButtonColorEnum;\r\n  exceedsDescriptionLimit = false;\r\n  isDescriptionPartlyHidden = false;\r\n  itemTreeTypeEnum = ItemTreeTypeEnum;\r\n  offerUrlSplitterEnum = SharedOfferUrlSplitterEnum;\r\n  mainImage: SharedFlexibleOfferImage;\r\n  standardImageUrl: string;\r\n  smallImages: SharedFlexibleOfferImage[];\r\n\r\n  get offerTitle(): string {\r\n    return (this.offer as SharedFlexibleOfferPublic).offerTitle;\r\n  }\r\n\r\n  get isPoECurrency(): boolean {\r\n    return this.offer.itemId === '2-0-0';\r\n  }\r\n\r\n  get itemName(): string {\r\n    if (this.offer && this.offer.itemName) {\r\n      return this.offer.itemId === '2-0-0' ? this.offer.offerAttributeIdValues[0].value : this.offer.itemName;\r\n    }\r\n  }\r\n\r\n  @ViewChild('offerDetailsDescription') offerDetailsDescription: ElementRef;\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    if (changes.offer && this.offer) {\r\n      if ((this.offer as SharedFlexibleOfferPublic).offerImages) {\r\n        this.smallImages = (this.offer as SharedFlexibleOfferPublic).offerImages.slice(0, 5);\r\n      }\r\n\r\n      this.getStadardImageUrl();\r\n      this.getCustomOfferImage();\r\n    }\r\n  }\r\n\r\n  onContactSeller(): void {\r\n    this.contactSeller.emit(this.offer as SharedFlexibleOfferPublic);\r\n  }\r\n\r\n  getStadardImageUrl(): void {\r\n    this.standardImageUrl = SharedAssetsDeliveryHelper.getItemImageUrl(\r\n      this.offer.gameId,\r\n      (this.offer as SharedOfferPublic).itemImageLocation\r\n    );\r\n  }\r\n\r\n  getCustomOfferImage(): void {\r\n    this.mainImage = (this.offer as SharedFlexibleOfferPublic).mainOfferImage;\r\n  }\r\n\r\n  getMainDetails(): SharedOfferTradeEnvironmentValue[] {\r\n    return [\r\n      ...(this.offer as SharedOfferPublic).tradeEnvironmentValues,\r\n      ...(this.offer as SharedOfferPublic).offerAttributeIdValues\r\n    ];\r\n  }\r\n\r\n  scrollToSellers(): void {\r\n    SharedScrollHelper.scroll('#other-sellers');\r\n  }\r\n\r\n  isNotNoneValue(value: string): boolean {\r\n    return isNotNone(value);\r\n  }\r\n\r\n  clickReadMore(): void {\r\n    this.isDescriptionPartlyHidden = false;\r\n  }\r\n\r\n  clickReadLess(): void {\r\n    this.isDescriptionPartlyHidden = true;\r\n  }\r\n\r\n  setAsMainImage(image: SharedFlexibleOfferImage): void {\r\n    this.smallImages.map((smallImage: SharedFlexibleOfferImage, index: number) => {\r\n      if (smallImage === image) {\r\n        this.smallImages[index] = this.mainImage;\r\n      }\r\n    });\r\n    this.mainImage = image;\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    if (this.offerDetailsDescription) {\r\n      const descriptionHeight: number = this.offerDetailsDescription.nativeElement.offsetHeight;\r\n\r\n      if (descriptionHeight > 155) {\r\n        this.isDescriptionPartlyHidden = true;\r\n        this.exceedsDescriptionLimit = true;\r\n      }\r\n    }\r\n  }\r\n\r\n  onOpenImageModal(): void {\r\n    if (this.mainImage) {\r\n      this.openImageModal.emit(this.mainImage);\r\n    }\r\n  }\r\n}\r\n","/* eslint-disable @typescript-eslint/restrict-template-expressions */\r\nimport { Component, Input, ChangeDetectionStrategy } from '@angular/core';\r\nimport { SharedPublicUserProfile } from '@shared-lib/models/shared-user.model';\r\nimport { SharedUserOrders } from '@shared-lib/models/shared-order.model';\r\nimport { SharedUserTabEnum } from '@shared-lib/enums/shared-user-tab.enum';\r\nimport { SharedVerificationStatusEnum } from '@shared-lib/enums/shared-verification-status.enum';\r\nimport { ItemTreeTypeEnum } from '@shared-lib/item-tree/item-tree-type.enum';\r\n\r\n@Component({\r\n  selector: 'eld-shared-user-short-info',\r\n  templateUrl: './shared-user-short-info.component.html',\r\n  styleUrls: ['./shared-user-short-info.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class SharedUserShortInfoComponent {\r\n  @Input() user: SharedPublicUserProfile;\r\n  @Input() userOrderInfo: SharedUserOrders;\r\n\r\n  userTabEnum = SharedUserTabEnum;\r\n  verificationStatusEnum = SharedVerificationStatusEnum;\r\n  itemTreeTypeEnum = ItemTreeTypeEnum;\r\n\r\n  getPublicUserProfileUrl(): string {\r\n    return `/users/${this.user.id}`;\r\n  }\r\n\r\n  getUserFeedbackUrl(): string {\r\n    return `/users/${this.user.id}`;\r\n  }\r\n}\r\n","import { SharedAssetsDeliveryHelper } from '@shared-lib/helpers/url/shared-assets-delivery.helper';\r\nimport { SharedButtonColorEnum } from '@shared-lib/enums/shared-button-color.enum';\r\nimport { ItemTreeTypeEnum } from '@shared-lib/item-tree/item-tree-type.enum';\r\nimport { PrivateUserProfile } from '@core/models/user.model';\r\nimport {\r\n  Component,\r\n  Input,\r\n  EventEmitter,\r\n  Output,\r\n  ChangeDetectionStrategy,\r\n  AfterViewInit,\r\n  ViewChild,\r\n  ElementRef,\r\n  SimpleChanges,\r\n  OnChanges\r\n} from '@angular/core';\r\nimport {\r\n  SharedFlexibleOfferImage,\r\n  SharedFlexibleOfferPublic,\r\n  SharedOfferPublic\r\n} from '@shared-lib/models/shared-offer.model';\r\nimport { SharedUserOrders, SharedOrderAvgDeliveryTime } from '@shared-lib/models/shared-order.model';\r\nimport { OtherSellersList } from '@features/game-offer/models/other-sellers-list.model';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { isNotNone } from '@shared-lib/helpers/is-not-none/is-not-none.helper';\r\nimport { SharedScrollHelper } from '@shared-lib/helpers/scroll/shared-scroll.helper';\r\nimport { fadeIn } from '@shared-lib/animations';\r\nimport { SharedDiscountDetails } from '@shared-lib/models/shared-offer.model';\r\nimport { SharedPublicUserProfile } from '@shared-lib/models/shared-user.model';\r\nimport { SharedOfferUrlSplitterEnum } from '@shared-lib/models/shared-offer-url-splitter.enum';\r\nimport { TradeShieldBlockEnum } from '../trade-shield-block/trade-shield-block.enum';\r\n\r\n@Component({\r\n  selector: 'eld-offer-details-mobile',\r\n  templateUrl: './offer-details-mobile.component.html',\r\n  styleUrls: ['./offer-details-mobile.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  animations: [fadeIn]\r\n})\r\nexport class OfferDetailsMobileComponent implements OnChanges, AfterViewInit {\r\n  @Input() offer: SharedOfferPublic | SharedFlexibleOfferPublic;\r\n  @Input() user: SharedPublicUserProfile;\r\n  @Input() userOrderInfo: SharedUserOrders;\r\n  @Input() deliveryTime: SharedOrderAvgDeliveryTime;\r\n  @Input() isUserSeller: boolean;\r\n  @Input() otherSellersList: OtherSellersList;\r\n  @Input() buyNowFormGroup: FormGroup;\r\n  @Input() discountDetails: SharedDiscountDetails;\r\n  @Input() currentUserProfile: PrivateUserProfile;\r\n  @Input() offerSplitter: SharedOfferUrlSplitterEnum;\r\n  @Input() offerType: ItemTreeTypeEnum;\r\n  @Output() buttonPress = new EventEmitter<null>();\r\n  @Output() openImageModal = new EventEmitter<SharedFlexibleOfferImage>();\r\n  @Output() contactSeller = new EventEmitter<SharedFlexibleOfferPublic>();\r\n\r\n  exceedsDescriptionLimit = false;\r\n  isDescriptionPartlyHidden = false;\r\n  itemTreeTypeEnum = ItemTreeTypeEnum;\r\n  buttonColorEnum = SharedButtonColorEnum;\r\n  tradeShieldBlockEnum = TradeShieldBlockEnum;\r\n\r\n  mainImage: SharedFlexibleOfferImage;\r\n  standardImageUrl: string;\r\n  smallImages: SharedFlexibleOfferImage[];\r\n\r\n  get offerTitle(): string {\r\n    return (this.offer as SharedFlexibleOfferPublic).offerTitle;\r\n  }\r\n\r\n  get isPoECurrency(): boolean {\r\n    return this.offer.itemId === '2-0-0';\r\n  }\r\n\r\n  get itemName(): string {\r\n    if (this.offer && this.offer.itemName) {\r\n      return this.offer.itemId === '2-0-0' ? this.offer.offerAttributeIdValues[0].value : this.offer.itemName;\r\n    }\r\n  }\r\n\r\n  @ViewChild('offerDetailsDescription') offerDetailsDescription: ElementRef;\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    if (changes.offer && this.offer) {\r\n      if ((this.offer as SharedFlexibleOfferPublic).offerImages) {\r\n        this.smallImages = (this.offer as SharedFlexibleOfferPublic).offerImages.slice(0, 5);\r\n      }\r\n\r\n      this.getStadardImageUrl();\r\n      this.getCustomOfferImage();\r\n    }\r\n  }\r\n\r\n  getStadardImageUrl(): void {\r\n    this.standardImageUrl = SharedAssetsDeliveryHelper.getItemImageUrl(\r\n      this.offer.gameId,\r\n      (this.offer as SharedOfferPublic).itemImageLocation\r\n    );\r\n  }\r\n\r\n  getCustomOfferImage(): void {\r\n    this.mainImage = (this.offer as SharedFlexibleOfferPublic).mainOfferImage;\r\n  }\r\n\r\n  isNotNoneValue(value: string): boolean {\r\n    return isNotNone(value);\r\n  }\r\n\r\n  scrollToSellers(): void {\r\n    SharedScrollHelper.scroll('#other-sellers');\r\n  }\r\n\r\n  onCheckout(): void {\r\n    this.buttonPress.emit();\r\n  }\r\n\r\n  isUserAlsoSeller(): boolean {\r\n    return this.currentUserProfile && this.currentUserProfile.id === this.offer.userId;\r\n  }\r\n\r\n  clickReadMore(): void {\r\n    this.isDescriptionPartlyHidden = false;\r\n  }\r\n\r\n  clickReadLess(): void {\r\n    this.isDescriptionPartlyHidden = true;\r\n  }\r\n\r\n  setAsMainImage(image: SharedFlexibleOfferImage): void {\r\n    this.smallImages.map((smallImage: SharedFlexibleOfferImage, index: number) => {\r\n      if (smallImage === image) {\r\n        this.smallImages[index] = this.mainImage;\r\n      }\r\n    });\r\n    this.mainImage = image;\r\n  }\r\n\r\n  onOpenImageModal(): void {\r\n    this.openImageModal.emit(this.mainImage);\r\n  }\r\n\r\n  onContactSeller(): void {\r\n    this.contactSeller.emit(this.offer as SharedFlexibleOfferPublic);\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    if (this.offerDetailsDescription) {\r\n      const descriptionHeight: number = this.offerDetailsDescription.nativeElement.offsetHeight;\r\n\r\n      if (descriptionHeight > 345) {\r\n        this.isDescriptionPartlyHidden = true;\r\n        this.exceedsDescriptionLimit = true;\r\n      }\r\n    }\r\n  }\r\n}\r\n","import { SharedDiscount } from '@shared-lib/models/shared-offer.model';\r\nimport { SharedItemUnitsType } from '@shared-lib/types/shared-item-units.type';\r\nimport { Component, ChangeDetectionStrategy, Input } from '@angular/core';\r\nimport { SharedFlexibleOfferPublic, SharedOfferPublic } from '@shared-lib/models/shared-offer.model';\r\n\r\n@Component({\r\n  selector: 'eld-other-seller-discount',\r\n  templateUrl: './other-seller-discount.component.html',\r\n  styleUrls: ['./other-seller-discount.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class OtherSellerDiscountComponent {\r\n  @Input() offer: SharedOfferPublic | SharedFlexibleOfferPublic;\r\n\r\n  get offerDiscounts(): SharedDiscount[] {\r\n    return (this.offer as SharedOfferPublic).discounts;\r\n  }\r\n\r\n  get offerUnitSystem(): SharedItemUnitsType {\r\n    return (this.offer as SharedOfferPublic).unitSystem;\r\n  }\r\n}\r\n","import { Component, ChangeDetectionStrategy, Output, EventEmitter, Input } from '@angular/core';\r\nimport { SharedScrollHelper } from '@shared-lib/helpers/scroll/shared-scroll.helper';\r\n\r\n@Component({\r\n  selector: 'eld-offer-not-available-card',\r\n  templateUrl: './offer-not-available-card.component.html',\r\n  styleUrls: ['./offer-not-available-card.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class OfferNotAvailableCardComponent {\r\n\r\n  @Input() otherOffersAmount: number;\r\n  @Output() otherSellersClick = new EventEmitter<null>();\r\n\r\n  scrollToSellers(): void {\r\n    SharedScrollHelper.scroll('#other-sellers');\r\n  }\r\n\r\n  onOtherSellersClick(): void {\r\n    this.otherSellersClick.emit();\r\n  }\r\n\r\n}\r\n","import { Component, Input, Output, EventEmitter, ChangeDetectionStrategy } from '@angular/core';\r\nimport { OtherSellersList } from '@features/game-offer/models/other-sellers-list.model';\r\nimport { SharedScreenWidthTypeEnum } from '@shared-lib/enums/shared-screen-type.enum';\r\nimport { SharedVerificationStatusEnum } from '@shared-lib/enums/shared-verification-status.enum';\r\nimport { OfferDetails } from '@shared/models/offer.model';\r\nimport { SharedModifiedAvgDeliveryTime } from '@shared-lib/models/shared-order.model';\r\nimport { modifiedAvgDeliveryTime } from '@shared-lib/helpers/delivery-time-calculation/delivery-time-calculation.helper';\r\nimport { HTMLInputEvent } from '@shared-lib/models/shared-html-input-event.model';\r\n\r\n@Component({\r\n  selector: 'eld-other-sellers-for-offer',\r\n  templateUrl: './other-sellers-for-offer.component.html',\r\n  styleUrls: ['./other-sellers-for-offer.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\n\r\nexport class OtherSellersForOfferComponent {\r\n\r\n  @Input() otherSellersList: OtherSellersList;\r\n  @Input() screenWidth: number;\r\n  @Output() navigateToAnotherOffer = new EventEmitter<string>();\r\n\r\n  screenWidthTypeEnum = SharedScreenWidthTypeEnum;\r\n  verificationStatusEnum = SharedVerificationStatusEnum;\r\n\r\n  onOtherOfferClick(event: HTMLInputEvent, offerId: string): void {\r\n    // Ignore if the item clicked is an anchor\r\n    if (event.target.localName !== 'a') {\r\n      this.navigateToAnotherOffer.emit(offerId);\r\n    }\r\n  }\r\n\r\n  getDeliveryAvg(offerDetails: OfferDetails): SharedModifiedAvgDeliveryTime {\r\n    return modifiedAvgDeliveryTime(offerDetails.deliveryTime);\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { SharedOfferAttributesComponent } from './shared-offer-attributes.component';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n  ],\r\n  exports: [SharedOfferAttributesComponent],\r\n  declarations: [SharedOfferAttributesComponent],\r\n})\r\nexport class SharedOfferAttributesModule { }\r\n","import { GameOffersParams } from '@shared/models/offer.model';\r\nimport { SharedPagedResult } from '@shared-lib/models/shared-paged-result.model';\r\nimport { SharedOfferGroupPublic, SharedMyOffersGetParams, SharedFlexibleOfferViewModel } from '@shared-lib/models/shared-offer.model';\r\n\r\nexport interface State {\r\n  offers: SharedPagedResult<SharedOfferGroupPublic>;\r\n  flexibleOffers?: SharedPagedResult<SharedFlexibleOfferViewModel>;\r\n  filterParams: SharedMyOffersGetParams | GameOffersParams;\r\n  loading?: boolean;\r\n  loaded?: boolean;\r\n  error?: any;\r\n}\r\n\r\nexport const initialState: State = {\r\n  offers: null,\r\n  flexibleOffers: null,\r\n  filterParams: null,\r\n  loading: false,\r\n  loaded: false,\r\n  error: null\r\n};\r\n","import { SharedNumericInputModule } from '@shared-lib/ui/shared-numeric-input/shared-numeric-input.module';\r\nimport { SharedInputModule } from '@shared-lib/ui/shared-input/shared-input.module';\r\nimport { SharedPaginationModule } from '@shared-lib/ui/shared-pagination/shared-pagination.module';\r\nimport { SharedErrorModule } from '@shared-lib/ui/shared-error/shared-error.module';\r\nimport { SharedButtonModule } from '@shared-lib/ui/shared-button/shared-button.module';\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { SharedImageModule } from '@shared-lib/ui/shared-image/shared-image.module';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { GameOfferPageViewComponent } from '../../components/game-offer-page-view/game-offer-page-view.component';\r\nimport { BuyNowCardComponent } from '../../components/buy-now-card/buy-now-card.component';\r\nimport { StaticBlockSharedModule } from '../static-block/static-block.module';\r\nimport { OfferDetailsMobileComponent } from '@shared/components/offer-details-mobile/offer-details-mobile.component';\r\nimport { OfferNotAvailableCardComponent } from '@shared/components/offer-not-available-card/offer-not-available-card.component';\r\nimport { OtherSellersForOfferComponent } from '@shared/components/other-sellers-for-offer/other-sellers-for-offer.component';\r\nimport { SharedOfferItemLabelModule } from '@shared-lib/components/shared-offer-item-label/shared-offer-item-label.module';\r\nimport { SharedOfferAttributesModule } from '@shared-lib/components/shared-offer-attributes/shared-offer-attributes.module';\r\nimport { SharedUserShortInfoModule } from '@shared-lib/components/shared-user-short-info/shared-user-short-info.module';\r\nimport { UnitsLetterPipe } from '@shared-lib/pipes/units-letter/units-letter.pipe';\r\nimport { SharedPipesModule } from '@shared-lib/pipes/shared-pipes.module';\r\nimport { NullAndZeroReplacePipe } from '@shared-lib/pipes/null-and-zero-replace/null-and-zero-replace.pipe';\r\nimport { SharedTooltipModule } from '@shared-lib/ui/shared-tooltip/shared-tooltip.module';\r\nimport { VolumeDiscountLabelSharedModule } from '../volume-discount-label-shared/volume-discount-label-shared.module';\r\nimport { OtherSellerDiscountComponent } from '@shared/components/other-seller-discount/other-seller-discount.component';\r\nimport {\r\n  SharedDiscountsTooltipContentModule\r\n} from '@shared-lib/components/shared-discounts-tooltip-content/shared-discounts-tooltip-content.module';\r\nimport { OfferDetailsDesktopComponent } from '@shared/components/offer-details-desktop/offer-details-desktop.component';\r\n\r\nexport const COMPONENTS = [\r\n  GameOfferPageViewComponent,\r\n  OfferDetailsDesktopComponent,\r\n  BuyNowCardComponent,\r\n  OfferDetailsMobileComponent,\r\n  OfferNotAvailableCardComponent,\r\n  OtherSellersForOfferComponent,\r\n  OtherSellerDiscountComponent\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    SharedImageModule,\r\n    ReactiveFormsModule,\r\n    SharedButtonModule,\r\n    SharedErrorModule,\r\n    SharedPaginationModule,\r\n    StaticBlockSharedModule,\r\n    SharedOfferItemLabelModule,\r\n    SharedOfferAttributesModule,\r\n    SharedUserShortInfoModule,\r\n    SharedPipesModule,\r\n    SharedInputModule,\r\n    SharedNumericInputModule,\r\n    SharedTooltipModule,\r\n    VolumeDiscountLabelSharedModule,\r\n    SharedDiscountsTooltipContentModule\r\n  ],\r\n  exports: [\r\n    COMPONENTS\r\n  ],\r\n  declarations: [\r\n    COMPONENTS\r\n  ],\r\n  providers: [\r\n    UnitsLetterPipe,\r\n    NullAndZeroReplacePipe\r\n  ]\r\n})\r\nexport class GameOfferPageViewModule { }\r\n","import {\r\n  createFeatureSelector,\r\n  createSelector,\r\n  MemoizedSelector\r\n} from '@ngrx/store';\r\n\r\nimport { State } from './state';\r\nimport { GameOffersParams } from '@shared/models/offer.model';\r\nimport {\r\n  SharedMyOffersGetParams,\r\n  SharedOfferGroupPublic,\r\n  SharedFlexibleOfferViewModel,\r\n} from '@shared-lib/models/shared-offer.model';\r\nimport { SharedPagedResult } from '@shared-lib/models/shared-paged-result.model';\r\n\r\nexport const getError = (state: State): any => state.error;\r\nexport const getIsLoading = (state: State): boolean => state.loading;\r\nexport const getIsLoaded = (state: State): boolean => state.loaded;\r\nexport const getOffers = (state: State): SharedPagedResult<SharedOfferGroupPublic> => state.offers;\r\nexport const getFlexibleOffers = (state: State): SharedPagedResult<SharedFlexibleOfferViewModel> => state.flexibleOffers;\r\nexport const getOffersFilterParams = (state: State): SharedMyOffersGetParams | GameOffersParams => state.filterParams;\r\n\r\nexport const selectOffersState: MemoizedSelector<object, State> = createFeatureSelector<State>('offers');\r\n\r\nexport const selectOffers: MemoizedSelector<object, SharedPagedResult<SharedOfferGroupPublic>> = createSelector(\r\n  selectOffersState,\r\n  getOffers\r\n);\r\n\r\nexport const selectFlexibleOffers: MemoizedSelector<object, SharedPagedResult<SharedFlexibleOfferViewModel>> = createSelector(\r\n  selectOffersState,\r\n  getFlexibleOffers\r\n);\r\n\r\nexport const selectPredefinedAndFlexibleOffers: MemoizedSelector<object, any> = createSelector(\r\n  selectOffers,\r\n  selectFlexibleOffers,\r\n  (offers, flexibleOffers) => {\r\n    return { offers, flexibleOffers };\r\n  }\r\n);\r\n\r\nexport const selectOffersLoading: MemoizedSelector<object, boolean> = createSelector(\r\n  selectOffersState,\r\n  getIsLoading\r\n);\r\n\r\n","import * as OffersStoreActions from './actions';\r\nimport * as OffersStoreSelectors from './selectors';\r\nimport * as OffersStoreState from './state';\r\n\r\nexport {\r\n  OffersStoreModule\r\n} from './offers-store.module';\r\n\r\nexport {\r\n  OffersStoreActions,\r\n  OffersStoreSelectors,\r\n  OffersStoreState\r\n};\r\n","import { SharedDiscount } from '@shared-lib/models/shared-offer.model';\r\nimport { SharedDiscountDetails } from '@shared-lib/models/shared-offer.model';\r\nimport round from 'lodash/round';\r\n\r\nexport function getDiscountDetails(discounts: SharedDiscount[], quantity: number, unitPrice: number): SharedDiscountDetails {\r\n  const discountPercentage = getVolumeDiscountPercentage(discounts, quantity);\r\n  const discountedPrice = calculateDiscountedPrice(quantity, unitPrice, discountPercentage);\r\n  const discountAmount = round(+(quantity * unitPrice - discountedPrice), 2);\r\n\r\n  return {\r\n    discountPercentage,\r\n    discountAmount,\r\n    discountedPrice\r\n  } as SharedDiscountDetails;\r\n}\r\n\r\nexport function getVolumeDiscountPercentage(discounts: SharedDiscount[], quantity: number): number {\r\n  const discountPercentage = discounts\r\n    .slice()\r\n    .sort((a, b) => a.quantity - b.quantity)\r\n    .reduce((acc, curr) => {\r\n      if (quantity >= curr.quantity) {\r\n        return curr.percentage;\r\n      } else {\r\n        return acc;\r\n      }\r\n    }, 0);\r\n  return discountPercentage;\r\n}\r\n\r\nexport function calculateDiscountedPrice(quantity: number, unitPrice: number, discountPercentage: number): number {\r\n  const discountedPrice = quantity * unitPrice * (1 - discountPercentage / 100);\r\n  return round(+discountedPrice, 2);\r\n}\r\n","import { fadeIn } from '@shared-lib/animations';\r\nimport { Component, ChangeDetectionStrategy, Input, EventEmitter, Output } from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { PrivateUserProfile } from '@core/models/user.model';\r\nimport {\r\n  SharedFlexibleOfferImage,\r\n  SharedDiscountDetails,\r\n  SharedOfferPublic,\r\n  SharedFlexibleOfferPublic\r\n} from '@shared-lib/models/shared-offer.model';\r\nimport { SharedItem } from '@shared-lib/item-tree/item-tree';\r\nimport { OtherSellersList } from '@features/game-offer/models/other-sellers-list.model';\r\nimport { SharedOfferUrlSplitterEnum } from '@shared-lib/models/shared-offer-url-splitter.enum';\r\nimport { SharedPublicUserProfile } from '@shared-lib/models/shared-user.model';\r\nimport { SharedUserOrders, SharedOrderAvgDeliveryTime } from '@shared-lib/models/shared-order.model';\r\nimport { SharedScreenWidthTypeEnum } from '@shared-lib/enums/shared-screen-type.enum';\r\nimport { SharedOfferStatusEnum } from '@shared-lib/enums/shared-offer-status.enum';\r\nimport { SharedButtonColorEnum } from '@shared-lib/enums/shared-button-color.enum';\r\nimport { ItemTreeTypeEnum } from '@shared-lib/item-tree/item-tree-type.enum';\r\nimport { SharedScrollHelper } from '@shared-lib/helpers/scroll/shared-scroll.helper';\r\nimport { TradeShieldBlockEnum } from '../trade-shield-block/trade-shield-block.enum';\r\n\r\n\r\n@Component({\r\n  selector: 'eld-game-offer-page-view',\r\n  templateUrl: './game-offer-page-view.component.html',\r\n  styleUrls: ['./game-offer-page-view.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  animations: [fadeIn]\r\n})\r\nexport class GameOfferPageViewComponent {\r\n  @Input() buyNowFormGroup: FormGroup;\r\n  @Input() currentUserProfile: PrivateUserProfile;\r\n  @Input() customOfferModalImage: SharedFlexibleOfferImage;\r\n  @Input() discountDetails: SharedDiscountDetails;\r\n  @Input() item: SharedItem;\r\n  @Input() offer: SharedOfferPublic | SharedFlexibleOfferPublic;\r\n  @Input() otherSellersList: OtherSellersList;\r\n  @Input() splitter: SharedOfferUrlSplitterEnum;\r\n  @Input() offerType: ItemTreeTypeEnum;\r\n  @Input() user: SharedPublicUserProfile;\r\n  @Input() userOrderInfo: SharedUserOrders;\r\n  @Input() deliveryTime: SharedOrderAvgDeliveryTime;\r\n  @Input() screenWidth: number;\r\n  @Input() pageSize = 20;\r\n  @Input() pageIndex = 1;\r\n\r\n  @Output() checkout = new EventEmitter<null>();\r\n  @Output() contactSeller = new EventEmitter<SharedFlexibleOfferPublic>();\r\n  @Output() openImageModal = new EventEmitter<SharedFlexibleOfferImage>();\r\n  @Output() navigateToAnotherOffer = new EventEmitter<string>();\r\n  @Output() pageChange = new EventEmitter<number>();\r\n\r\n  buttonColorEnum = SharedButtonColorEnum;\r\n  screenTypeEnum = SharedScreenWidthTypeEnum;\r\n  offerStatusEnum = SharedOfferStatusEnum;\r\n  tradeShieldBlockEnum = TradeShieldBlockEnum;\r\n  itemTreeTypeEnum = ItemTreeTypeEnum;\r\n\r\n  onOpenImageModal(image: SharedFlexibleOfferImage): void {\r\n    this.openImageModal.emit(image);\r\n  }\r\n\r\n  onCheckout(): void {\r\n    this.checkout.emit();\r\n  }\r\n\r\n  onNavigateToAnotherOffer(offerId: string): void {\r\n    this.navigateToAnotherOffer.emit(offerId);\r\n  }\r\n\r\n  onPageChange(activePage: number): void {\r\n    this.pageChange.emit(activePage);\r\n    SharedScrollHelper.scroll('#other-sellers', 350);\r\n  }\r\n\r\n  onContactSeller(offer: SharedFlexibleOfferPublic): void {\r\n    this.contactSeller.emit(offer);\r\n  }\r\n\r\n  isUserAlsoSeller(): boolean {\r\n    return this.currentUserProfile && this.currentUserProfile.id === this.offer.userId;\r\n  }\r\n}\r\n","import { SharedAssetsDeliveryHelper } from '@shared-lib/helpers/url/shared-assets-delivery.helper';\r\nimport {\r\n  SharedOfferGroupPublic,\r\n  SharedFlexibleOfferViewModel\r\n} from '@shared-lib/models/shared-offer.model';\r\nimport { Injectable } from '@angular/core';\r\nimport { Actions, Effect, ofType } from '@ngrx/effects';\r\nimport { Action } from '@ngrx/store';\r\nimport { Observable, of } from 'rxjs';\r\nimport { catchError, map, switchMap } from 'rxjs/operators';\r\nimport * as featureActions from './actions';\r\nimport { OffersService } from '@shared/services/offers.service';\r\nimport { SharedApiErrorResponse } from '@shared-lib/models/shared-error.model';\r\nimport { SharedToastStoreActions } from '@shared-lib/stores/toast';\r\nimport { SharedRouterStoreActions } from '@shared-lib/stores/router';\r\nimport { SharedPagedResult } from '@shared-lib/models/shared-paged-result.model';\r\n\r\n@Injectable()\r\nexport class OffersStoreEffects {\r\n  constructor(\r\n    private offersService: OffersService,\r\n    private actions$: Actions,\r\n    ) {}\r\n\r\n  @Effect()\r\n  loadPredefinedGameOffers$: Observable<Action> = this.actions$.pipe(\r\n    ofType<featureActions.LoadPredefinedGameOffersAction>(\r\n      featureActions.ActionTypes.LOAD_PREDEFINED_GAME_OFFERS\r\n    ),\r\n    map((action: featureActions.LoadPredefinedGameOffersAction) => action.payload),\r\n    switchMap(payload => {\r\n      return this.offersService.getPredefinedGameOffers(payload).pipe(\r\n        map(\r\n          (offers: SharedPagedResult<SharedOfferGroupPublic>) =>\r\n            new featureActions.LoadPredefinedGameOffersSuccessAction(offers)\r\n        ),\r\n        catchError((error: SharedApiErrorResponse) =>\r\n          of(new featureActions.LoadPredefinedGameOffersFailureAction(error))\r\n        )\r\n      );\r\n    })\r\n  );\r\n\r\n  @Effect()\r\n  loadFlexibleGameOffers$: Observable<Action> = this.actions$.pipe(\r\n    ofType<featureActions.LoadFlexibleGameOffersAction>(\r\n      featureActions.ActionTypes.LOAD_FLEXIBLE_GAME_OFFERS\r\n    ),\r\n    map((action: featureActions.LoadFlexibleGameOffersAction) => action.payload),\r\n    switchMap(payload => {\r\n      return this.offersService.getFlexibleGameOffers(payload).pipe(\r\n        map(\r\n          (offers: SharedPagedResult<SharedFlexibleOfferViewModel>) => {\r\n            // Changing fortnite image to our not copyrighted image\r\n            // TODO: There is a trello task to deal with the models issue, but currently the <offer> type has to be 'any' for this to work.\r\n            offers.results.forEach((offer: any) => {\r\n              if (offer.offer.gameId === '16') {\r\n                const imageUrl = SharedAssetsDeliveryHelper.getItemImageUrl(offer.offer.gameId, 'Fortnite-box.jpg');\r\n                const mainOfferImage = offer.offer.mainOfferImage;\r\n                offer.offer.mainOfferImage = {\r\n                  largeImageUrl: imageUrl,\r\n                  smallImageUrl: imageUrl,\r\n                  originalSizeImageUrl: imageUrl\r\n                };\r\n                offer.offer.offerImages.unshift(mainOfferImage);\r\n              }\r\n            });\r\n            return new featureActions.LoadFlexibleGameOffersSuccessAction(offers);\r\n          }\r\n        ),\r\n        catchError((error: SharedApiErrorResponse) =>\r\n          of(new featureActions.LoadFlexibleGameOffersFailureAction(error))\r\n        )\r\n      );\r\n    })\r\n  );\r\n\r\n  @Effect()\r\n  ifFlexibleOffers400Error$: Observable<Action> = this.actions$.pipe(\r\n    ofType(\r\n      featureActions.ActionTypes.LOAD_FLEXIBLE_GAME_OFFERS_FAILURE,\r\n    ),\r\n    map((action: any) => action.payload),\r\n    map((resp: SharedApiErrorResponse) => {\r\n      if (resp.status === 400) {\r\n        return new featureActions.LoadFlexibleGameOffersSuccessAction({\r\n          pageIndex: 1,\r\n          totalPages: 0,\r\n          pageSize: 20,\r\n          recordCount: 0,\r\n          results: []\r\n        });\r\n      }\r\n\r\n      return { type: 'NO_400_ERROR' };\r\n    })\r\n  );\r\n\r\n\r\n  @Effect()\r\n  redirectIfOffersNotExist$: Observable<Action> = this.actions$.pipe(\r\n    ofType(\r\n      featureActions.ActionTypes.LOAD_PREDEFINED_GAME_OFFERS_FAILURE,\r\n      featureActions.ActionTypes.LOAD_FLEXIBLE_GAME_OFFERS_FAILURE,\r\n    ),\r\n    map((action: any) => action.payload),\r\n    map((resp) => {\r\n      if (resp.status === 404) {\r\n        return new SharedRouterStoreActions.GoAction({ path: ['/404'] });\r\n      }\r\n\r\n      return { type: 'OFFERS_EXIST' };\r\n    })\r\n  );\r\n\r\n  @Effect()\r\n  loadOffersFailureEffect$: Observable<Action> = this.actions$.pipe(\r\n    ofType<\r\n      | featureActions.LoadPredefinedGameOffersFailureAction\r\n      | featureActions.LoadFlexibleGameOffersFailureAction\r\n    >(\r\n      featureActions.ActionTypes.LOAD_PREDEFINED_GAME_OFFERS_FAILURE,\r\n      featureActions.ActionTypes.LOAD_FLEXIBLE_GAME_OFFERS_FAILURE,\r\n    ),\r\n    map((action: any) => action.payload),\r\n    map((response: SharedApiErrorResponse) => new SharedToastStoreActions.ShowErrorAction(response))\r\n  );\r\n}\r\n","import { getHumanizedDuration, getDurationArray } from '@shared-lib/helpers/date/date-humanize.helper';\r\nimport { SharedModifiedAvgDeliveryTime } from '@shared-lib/models/shared-order.model';\r\nimport { SharedDeliveryTimeType } from '@shared-lib/types/shared-delivery-time.type';\r\nimport { SharedOrderAvgDeliveryTime } from '@shared-lib/models/shared-order.model';\r\nimport { differenceInSeconds } from 'date-fns';\r\nimport { SharedDurationItem } from '@shared-lib/models/shared-date.model';\r\n\r\n\r\nexport function getDeliveryTime(deliveryTime: string): string {\r\n  if (deliveryTime) {\r\n    return getTimeSpanToHumanReadableTime(deliveryTime);\r\n  } else {\r\n    return null;\r\n  }\r\n}\r\n\r\nexport function isOrderOverdue(deliveryTime: string, guaranteedDeliveryTime: SharedDeliveryTimeType): boolean {\r\n  if (deliveryTime) {\r\n    return getTimeSpanToSeconds(deliveryTime) > getGuaranteedDeliveryTimeInSeconds(guaranteedDeliveryTime);\r\n  } else {\r\n    return null;\r\n  }\r\n}\r\n\r\nexport function getGuaranteedDeliveryTimeInSeconds(guaranteedDeliveryTime: SharedDeliveryTimeType): number {\r\n  switch (guaranteedDeliveryTime) {\r\n    case 'Minute20': {\r\n      return 20 * 60;\r\n    }\r\n    case 'Hour1': {\r\n      return 60 * 60;\r\n    }\r\n    case 'Hour5': {\r\n      return 5 * 60 * 60;\r\n    }\r\n    case 'Day1': {\r\n      return 24 * 60 * 60;\r\n    }\r\n    case 'Day2': {\r\n      return 48 * 60 * 60;\r\n    }\r\n    case 'Day7': {\r\n      return 7 * 24 * 60 * 60;\r\n    }\r\n    case 'Day28': {\r\n      return 28 * 24 * 60 * 60;\r\n    }\r\n    default: {\r\n      return 0;\r\n    }\r\n  }\r\n\r\n}\r\n\r\nexport function modifiedAvgDeliveryTime(sellerAverage: SharedOrderAvgDeliveryTime): SharedModifiedAvgDeliveryTime {\r\n  if (!sellerAverage) {\r\n    return {\r\n      humanizedDeliveryAvg: null,\r\n      isLate: false\r\n    };\r\n  }\r\n\r\n  const deliveryTimeMedian: string = sellerAverage.deliveryTimeMedian;\r\n  const expectedTime: string = sellerAverage.expectedTime;\r\n  let humanizedDeliveryTimeMedian = null;\r\n  let isLate = false;\r\n\r\n  const duration = getTimeSpanToDurationItems(deliveryTimeMedian);\r\n\r\n  const years: number = duration.find(d => d.format === 'years').value;\r\n  const months: number = duration.find(d => d.format === 'months').value;\r\n  const days: number = duration.find(d => d.format === 'days').value;\r\n  const hours: number = duration.find(d => d.format === 'hours').value;\r\n  const minutes: number = duration.find(d => d.format === 'minutes').value;\r\n  const seconds: number = duration.find(d => d.format === 'seconds').value;\r\n\r\n  const yearsHumanized = `${years.toString()} year` + datePluralEnding(years);\r\n  const monthsHumanized = `${months.toString()} month` + datePluralEnding(months);\r\n  const daysHumanized = `${days.toString()} day` + datePluralEnding(days);\r\n  const hoursHumanized = `${hours.toString()} h`;\r\n  const minutesHumanized = `${minutes.toString()} min`;\r\n\r\n  if (years > 0) {\r\n    humanizedDeliveryTimeMedian = yearsHumanized;\r\n\r\n    if (days > 0) {\r\n      humanizedDeliveryTimeMedian = `${yearsHumanized} ${monthsHumanized}`;\r\n    }\r\n  } else if (months > 0) {\r\n    humanizedDeliveryTimeMedian = monthsHumanized;\r\n\r\n    if (days > 0) {\r\n      humanizedDeliveryTimeMedian = `${monthsHumanized} ${daysHumanized}`;\r\n    }\r\n  } else if (days > 0) {\r\n    humanizedDeliveryTimeMedian = daysHumanized;\r\n\r\n    if (hours > 0) {\r\n      humanizedDeliveryTimeMedian = `${daysHumanized} ${hoursHumanized}`;\r\n    }\r\n  } else if (hours > 0) {\r\n    humanizedDeliveryTimeMedian = hoursHumanized;\r\n\r\n    if (minutes > 0) {\r\n      humanizedDeliveryTimeMedian = `${hoursHumanized} ${minutesHumanized}`;\r\n    }\r\n  } else if (minutes > 0) {\r\n    humanizedDeliveryTimeMedian = `${minutesHumanized}`;\r\n  } else if (seconds > 0) {\r\n    humanizedDeliveryTimeMedian = '1 min';\r\n  }\r\n\r\n  isLate = getTimeSpanToSeconds(deliveryTimeMedian) > getTimeSpanToSeconds(expectedTime);\r\n\r\n  return {\r\n    humanizedDeliveryAvg: humanizedDeliveryTimeMedian,\r\n    isLate\r\n  };\r\n}\r\n\r\nfunction datePluralEnding(value: number): string {\r\n  if (value > 1) {\r\n    return 's';\r\n  }\r\n\r\n  return '';\r\n}\r\n\r\nfunction getTimeSpanToDurationItems(timeSpan: string): SharedDurationItem[] {\r\n  const { dateFrom, dateTo } = getDurationFromAndToDates(timeSpan);\r\n  return getDurationArray(dateFrom, dateTo);\r\n}\r\n\r\nfunction getTimeSpanToHumanReadableTime(timeSpan: string): string {\r\n  const { dateFrom, dateTo } = getDurationFromAndToDates(timeSpan);\r\n  return getHumanizedDuration(dateFrom, dateTo);\r\n}\r\n\r\nfunction getTimeSpanToSeconds(timeSpan: string): number {\r\n  const { dateFrom, dateTo } = getDurationFromAndToDates(timeSpan);\r\n\r\n  return Math.abs(differenceInSeconds(dateFrom, dateTo));\r\n}\r\n\r\nfunction getDurationFromAndToDates(timeSpan: string) {\r\n  if (!timeSpan) {\r\n    return {};\r\n  }\r\n  const hasDays = timeSpan.split('.').length > 2;\r\n  const days = hasDays ? +timeSpan.split('.')[0] : 0;\r\n  const time = hasDays ? timeSpan.split('.')[1] : timeSpan.split('.')[0];\r\n  const [hours, minutes, seconds] = time.split(':').map(value => +value);\r\n\r\n  const dateFrom = new Date(0, 0, 0);\r\n  const dateTo = new Date(0, 0, days, hours, minutes, seconds);\r\n\r\n  return { dateFrom, dateTo };\r\n}\r\n","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'eld-volume-discount-label',\r\n  templateUrl: './volume-discount-label.component.html',\r\n  styleUrls: ['./volume-discount-label.component.scss']\r\n})\r\nexport class VolumeDiscountLabelComponent {\r\n}\r\n","<svg width=\"21\" height=\"16\" viewBox=\"0 0 21 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n  <path d=\"M16.17 0.960003C15.7721 0.377146 15.1089 2.64173e-06 14.3684 2.51225e-06L2.21053 0.0114292C0.994737 0.011429 -1.79841e-07 1.02857 -3.99647e-07 2.28571L-2.39788e-06 13.7143C-2.61769e-06 14.9714 0.994734 15.9886 2.21052 15.9886L14.3684 16C15.1089 16 15.7721 15.6229 16.17 15.04L21 8L16.17 0.960003Z\" fill=\"#FFB100\"/>\r\n  <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M13.4714 3.39976L12.2457 2.40009L4.467 11.9834L5.67308 13L13.4714 3.39976ZM5.73049 5.26721C5.79026 4.84841 5.91087 4.55034 6.05548 4.37198C6.19144 4.2043 6.34372 4.14412 6.51876 4.1691C6.69285 4.19395 6.81879 4.29278 6.8997 4.49042C6.98625 4.70181 7.016 5.02182 6.956 5.44213C6.89624 5.86085 6.78879 6.11766 6.66409 6.25845C6.55497 6.38165 6.41477 6.43703 6.19944 6.40629C5.98351 6.37547 5.86045 6.28191 5.78743 6.13117C5.70489 5.96079 5.67096 5.68424 5.73049 5.26721ZM6.75062 2.54467C6.10128 2.45199 5.51188 2.64604 4.99859 3.10395C4.46571 3.56636 4.15787 4.23133 4.04085 5.05122C3.92501 5.8628 4.05376 6.55769 4.45005 7.10368C4.83357 7.6468 5.33358 7.9654 5.96405 8.05539C6.59445 8.14537 7.16279 7.97943 7.68058 7.57877C8.21749 7.16332 8.52154 6.52759 8.6386 5.70747C8.76843 4.79785 8.64412 4.05487 8.30012 3.50833C7.95273 2.95641 7.40163 2.63759 6.75062 2.54467ZM4.29788 5.0879C4.1887 5.85283 4.31391 6.47496 4.66117 6.95254C5.00667 7.44247 5.44556 7.71912 6.00074 7.79836C6.12982 7.81679 6.25585 7.82321 6.37914 7.81767C6.25592 7.82319 6.12997 7.81677 6.00098 7.79835C5.44579 7.71911 5.00691 7.44246 4.6614 6.95253C4.31414 6.47495 4.18893 5.85282 4.29811 5.08789C4.40905 4.31064 4.69626 3.7096 5.17032 3.29889C5.5337 2.97426 5.92986 2.80247 6.35879 2.78351C5.92977 2.80241 5.53353 2.97421 5.17008 3.2989C4.69603 3.70961 4.40882 4.31065 4.29788 5.0879ZM11.0414 10.0411C11.1011 9.62228 11.2217 9.32421 11.3664 9.14585C11.5023 8.97817 11.6546 8.91798 11.8296 8.94297C12.0037 8.96781 12.1297 9.06665 12.2106 9.26429C12.2971 9.47567 12.3269 9.79568 12.2669 10.216C12.2071 10.6347 12.0997 10.8915 11.975 11.0323C11.8658 11.1555 11.7256 11.2109 11.5103 11.1802C11.2944 11.1493 11.1713 11.0558 11.0983 10.905C11.0158 10.7347 10.9818 10.4581 11.0414 10.0411ZM12.0615 7.31854C11.4121 7.22585 10.8227 7.41992 10.3094 7.87784C9.77657 8.34025 9.46874 9.00521 9.35172 9.82508C9.23588 10.6367 9.36463 11.3316 9.76093 11.8776C10.1445 12.4207 10.6445 12.7393 11.2749 12.8293C11.9053 12.9192 12.4737 12.7533 12.9915 12.3526C13.5284 11.9372 13.8324 11.3015 13.9495 10.4813C14.0793 9.57172 13.955 8.82874 13.611 8.2822C13.2636 7.73028 12.7125 7.41146 12.0615 7.31854ZM9.60875 9.86177C9.49957 10.6267 9.62478 11.2488 9.97204 11.7264C10.3175 12.2163 10.7564 12.493 11.3116 12.5722C11.4407 12.5907 11.5667 12.5971 11.69 12.5915C11.5668 12.5971 11.4408 12.5906 11.3119 12.5722C10.7567 12.493 10.3178 12.2163 9.97228 11.7264C9.62502 11.2488 9.4998 10.6267 9.60899 9.86176C9.71993 9.0845 10.0071 8.48347 10.4812 8.07276C10.8446 7.74813 11.2407 7.57633 11.6697 7.55737C11.2406 7.57628 10.8444 7.74808 10.481 8.07277C10.0069 8.48348 9.71969 9.08451 9.60875 9.86177ZM5.63826 12.6311L4.82921 11.9491L12.2833 2.76578L12.2834 2.76589L4.82944 11.9491L5.63836 12.631L5.63826 12.6311ZM6.41285 3.90467C6.45914 3.90269 6.50669 3.90511 6.55545 3.91207C7.11063 3.99131 7.33982 4.59052 7.21303 5.47882C7.10193 6.25719 6.81683 6.65289 6.34783 6.67332C6.81697 6.65301 7.10215 6.25731 7.21327 5.47881C7.34006 4.59051 7.11087 3.9913 6.55568 3.91206C6.50685 3.90509 6.45921 3.90267 6.41285 3.90467ZM11.7237 8.67854C11.77 8.67656 11.8176 8.67898 11.8663 8.68594C12.4215 8.76518 12.6507 9.36439 12.5239 10.2527C12.4145 11.0191 12.1364 11.4146 11.6801 11.446C12.1365 11.4147 12.4147 11.0193 12.5241 10.2527C12.6509 9.36438 12.4217 8.76517 11.8666 8.68593C11.8177 8.67896 11.7701 8.67654 11.7237 8.67854Z\" fill=\"white\"/>\r\n</svg>","<div *ngIf=\"offer\" [formGroup]=\"buyNowFormGroup\" [@fadeIn]>\r\n  <div class=\"buy-unit-price-details\" [ngStyle]=\"{'background-image': 'url(' + ('buy-offer-price-banner.png' | getAssetUrl:assetEnum.Miscellaneous) + ')'}\">\r\n    <div class=\"buy-unit-price\">\r\n      <h4>\r\n        {{ this.buyNowFormGroup.get('unitPrice').value | currency:offer.pricePerUnit.currency:'symbol':'1.2-5'}}\r\n      </h4>\r\n      <span class=\"buy-unit-system\" *ngIf=\"canBuyerSeeQuantity() && offer.quantity > 1\">\r\n        / {{offerUnitSystem ? (offerUnitSystem | unitsLetter:true) : 'unit'}}\r\n      </span>\r\n    </div>\r\n  </div>\r\n  <div class=\"buy-details-wrapper\">\r\n    <div class=\"buy-delivery-time\">\r\n      <h6>\r\n        <i class=\"material-icons\">timer</i><span i18n=\"COMMON.DELIVERY_TIME\">Delivery time</span>\r\n      </h6>\r\n      <div class=\"buy-delivery-time-entries row-sm\" *ngIf=\"offer.deliveryType !== deliveryMethodEnum.Auto\">\r\n        <div class=\"buy-delivery-time-entry col-sm\">\r\n          <span i18n=\"DELIVERY_TIME.SELLER_AVERAGE\" class=\"label\">Seller Average</span>\r\n          <div class=\"small-chip\" [eldSharedTooltip]=\"sellerAverageTooltip\">\r\n            <strong\r\n              *ngIf=\"sellerDeliveryAverage\"\r\n              class=\"avg-delivery-time\"\r\n              [class.is-late]=\"sellerDeliveryAverage.isLate\"\r\n              [class.is-empty]=\"!sellerDeliveryAverage.humanizedDeliveryAvg\"\r\n            >\r\n              {{sellerDeliveryAverage.humanizedDeliveryAvg | nullAndZeroReplace}}\r\n            </strong>\r\n          </div>\r\n        </div>\r\n        <div class=\"buy-delivery-time-entry col-sm\">\r\n          <span i18n=\"DELIVERY_TIME.GUARANTEED\" class=\"label\">Guaranteed</span>\r\n          <div class=\"small-chip\" [eldSharedTooltip]=\"guaranteedTooltip\">\r\n            <strong i18n>{offer.guaranteedDeliveryTime, select,\r\n              Minute20 {20 min}\r\n              Hour1 {1 h}\r\n              Hour5 {5 h}\r\n              Day1 {1 day}\r\n              Day2 {2 days}\r\n              Day7 {7 days}\r\n              Day28 {28 days}\r\n            }</strong>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"buy-delivery-time-entries insta-delivery row-sm\" *ngIf=\"offer.deliveryType === deliveryMethodEnum.Auto\">\r\n        <div class=\"small-chip insta-delivery-chip\">\r\n          <i class=\"material-icons\">offline_bolt</i>\r\n          Instant\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <ng-container *ngIf=\"canBuyerSeeQuantity()\">\r\n      <div class=\"buy-details\">\r\n        <span i18n=\"COMMON.IN_STOCK\" class=\"label\">In Stock:</span>\r\n        <h5 class=\"value\">{{offer.quantity | number}} {{offerUnitSystem | unitsLetter}}</h5>\r\n      </div>\r\n      <ng-container *ngIf=\"offer.quantity > 1\">\r\n        <div class=\"buy-details\">\r\n          <span i18n=\"COMMON.MIN_QUANTITY\" class=\"label\">Min Quantity:</span>\r\n          <h5 class=\"value\">{{offer.minQuantity | number}} {{offerUnitSystem | unitsLetter}}</h5>\r\n        </div>\r\n        <div class=\"quantity-details\">\r\n          <div class=\"label\">\r\n            <span i18n=\"COMMON.QUANTITY\">Quantity</span>\r\n          </div>\r\n          <eld-shared-numeric-input\r\n            [min]=\"offer.minQuantity\"\r\n            [max]=\"offer.quantity\"\r\n            label=\"{{offerUnitSystem | unitsLetter}}\"\r\n            formControlName=\"quantity\">\r\n          </eld-shared-numeric-input>\r\n        </div>\r\n      </ng-container>\r\n      <div class=\"buy-volume-discount\" *ngIf=\"discountDetails && offer.discounts?.length > 0\" [@fadeIn]>\r\n        <span class=\"discount-tootltip-button label\" [eldSharedTooltip]=\"discountTooltip\">\r\n          <eld-volume-discount-label></eld-volume-discount-label>\r\n          <span i18n=\"COMMON.VOLUME_DISCOUNT\">Volume Discount</span>\r\n          <span class=\"discountPercentage\">{{discountDetails.discountPercentage}}%</span>\r\n        </span>\r\n        <span class=\"value\">- {{ discountDetails.discountAmount | currency }}</span>\r\n      </div>\r\n      <hr class=\"separator\" />\r\n    </ng-container>\r\n    <div class=\"buy-price\">\r\n      <span i18n=\"COMMON.PRICE\" class=\"label\">Price</span>\r\n      <h4 *ngIf=\"discountDetails && canBuyerSeeQuantity()\">\r\n        {{discountDetails.discountedPrice | currency}} {{offer.pricePerUnit.currency}}\r\n      </h4>\r\n      <h4 *ngIf=\"!canBuyerSeeQuantity()\">\r\n        {{this.buyNowFormGroup.get('unitPrice').value | currency:offer.pricePerUnit.currency:'symbol':'1.2-5'}}\r\n      </h4>\r\n    </div>\r\n    <div class=\"buy-button\">\r\n      <eld-shared-button\r\n        *ngIf=\"!isBuyerAlsoSeller()\"\r\n        [color]=\"buttonColorEnum.AppleAnimated\"\r\n        text=\"Checkout\"\r\n        i18n-text\r\n        icon=\"verified_user\"\r\n        (buttonClick)=\"buttonClick()\">\r\n      </eld-shared-button>\r\n      <eld-shared-button *ngIf=\"isBuyerAlsoSeller()\"\r\n        [color]=\"buttonColorEnum.Disabled\"\r\n        i18n-text\r\n        text=\"You can't buy your own item\">\r\n      </eld-shared-button>\r\n    </div>\r\n    <div class=\"validation-errors\">\r\n      <div class=\"error\" *ngFor=\"let error of validationErrors\">\r\n        {{error}}\r\n      </div>\r\n    </div>\r\n    <div *ngIf=\"!isBuyerAlsoSeller()\" class=\"buy-info\">\r\n      <span i18n=\"COMMON.NO_CHARGE_YET\">You won't be charged yet</span>\r\n    </div>\r\n  </div>\r\n  </div>\r\n\r\n<eld-shared-tooltip-content #discountTooltip placement=\"top\">\r\n  <eld-shared-discounts-tooltip-content\r\n    [discounts]=\"offerDiscounts\"\r\n    [unitSystem]=\"offerUnitSystem\"\r\n  ></eld-shared-discounts-tooltip-content>\r\n</eld-shared-tooltip-content>\r\n\r\n<eld-shared-tooltip-content #sellerAverageTooltip placement=\"top\">\r\n  <strong>Average Delivery Time</strong><br><hr>Average delivery time of all Completed Orders for this Seller and this Game.\r\n</eld-shared-tooltip-content>\r\n<eld-shared-tooltip-content #guaranteedTooltip placement=\"top\">\r\n  <strong>Guaranteed Delivery Time</strong><br><hr>If you don't receive your Order within this time, you can request an instant refund.\r\n</eld-shared-tooltip-content>\r\n","<div class=\"first-row\">\r\n  <div class=\"offer-gallery\">\r\n    <div\r\n      class=\"image-container\"\r\n      [ngClass]=\"{ 'zoom-offer-image': mainImage }\"\r\n      (click)=\"onOpenImageModal()\"\r\n    >\r\n      <i class=\"material-icons\" *ngIf=\"mainImage\">zoom_in</i>\r\n      <eld-shared-image\r\n        class=\"rounded-edges\"\r\n        [@fadeIn]\r\n        *ngIf=\"mainImage?.largeImageUrl || standardImageUrl\"\r\n        [imageURL]=\"\r\n          mainImage?.largeImageUrl ? mainImage.largeImageUrl : standardImageUrl\r\n        \"\r\n        [alt]=\"offer?.itemName\"\r\n      >\r\n      </eld-shared-image>\r\n    </div>\r\n    <div class=\"extra-images\" *ngIf=\"smallImages\">\r\n      <div class=\"extra-image\" *ngFor=\"let smallImage of smallImages\">\r\n        <eld-shared-image\r\n          [imageURL]=\"smallImage.smallImageUrl\"\r\n          [alt]=\"offerTitle\"\r\n          (click)=\"setAsMainImage(smallImage)\"\r\n        ></eld-shared-image>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"offer-details\" *ngIf=\"offer\" [@fadeIn]>\r\n    <div class=\"offer-details-head\">\r\n      <eld-shared-offer-item-label\r\n        [tradeEnvs]=\"offer.tradeEnvironmentValues\"\r\n      ></eld-shared-offer-item-label>\r\n      <h4 class=\"hyphenate\">\r\n        {{ offerTitle ? offerTitle : itemName }}\r\n      </h4>\r\n      <p\r\n        class=\"offer-attributes\"\r\n        *ngIf=\"offer.offerAttributeIdValues?.length > 0\"\r\n      >\r\n        <eld-shared-offer-attributes\r\n          *ngIf=\"!isPoECurrency\"\r\n          [offerAttributeIdValues]=\"offer.offerAttributeIdValues\"\r\n        ></eld-shared-offer-attributes>\r\n      </p>\r\n    </div>\r\n    <div class=\"offer-seller\">\r\n      <eld-shared-user-short-info [user]=\"user\" [userOrderInfo]=\"userOrderInfo\">\r\n      </eld-shared-user-short-info>\r\n      <div class=\"offer-seller-head\">\r\n        <span\r\n          i18n=\"GAME_OFFER.OTHER_SELLERS\"\r\n          (click)=\"scrollToSellers()\"\r\n          *ngIf=\"otherSellersList?.recordCount as otherSellersCount\"\r\n        >\r\n          Other sellers ({{ otherSellersCount }})\r\n        </span>\r\n      </div>\r\n    </div>\r\n    <div\r\n      *ngIf=\"offerType === itemTreeTypeEnum.Boosting && !isUserSeller\"\r\n      class=\"contact-seller\"\r\n    >\r\n      <eld-shared-button\r\n        (buttonClick)=\"onContactSeller()\"\r\n        icon=\"email\"\r\n        [color]=\"buttonColorEnum.Sapphire\"\r\n        text=\"Contact seller\"\r\n      ></eld-shared-button>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div\r\n  #offerDetailsDescription\r\n  class=\"offer-details-description\"\r\n  *ngIf=\"offer?.description\"\r\n  [ngClass]=\"{ 'description-partly-hidden': isDescriptionPartlyHidden }\"\r\n>\r\n  <h5 i18n=\"COMMON.DESCRIPTION\">Description</h5>\r\n  <p class=\"hyphenate\">{{ offer.description }}</p>\r\n  <div class=\"read-more\">\r\n    <span i18n=\"COMMON.READ_MORE\" (click)=\"clickReadMore()\">Read more</span>\r\n  </div>\r\n  <div\r\n    class=\"read-less\"\r\n    *ngIf=\"exceedsDescriptionLimit && !isDescriptionPartlyHidden\"\r\n  >\r\n    <span i18n=\"COMMON.READ_LESS\" (click)=\"clickReadLess()\">Read less</span>\r\n  </div>\r\n</div>\r\n","<div class=\"offer-details-head\">\r\n  <eld-shared-offer-item-label [tradeEnvs]=\"offer.tradeEnvironmentValues\"></eld-shared-offer-item-label>\r\n  <h4 class=\"hyphenate\">{{offerTitle ? offerTitle : itemName}}</h4>\r\n  <p class=\"offer-attributes\">\r\n    <ng-container *ngFor=\"let attribute of offer.offerAttributeIdValues let last = last\">\r\n      <ng-container *ngIf=\"isNotNoneValue(attribute.value) && !isPoECurrency\">\r\n        <span class=\"small-chip\">{{attribute.value}}</span>\r\n      </ng-container>\r\n    </ng-container>\r\n  </p>\r\n</div>\r\n<div class=\"offer-gallery\">\r\n  <div class=\"image-container\" [ngClass]=\"{'zoom-offer-image': mainImage}\" (click)=\"onOpenImageModal()\">\r\n    <i class=\"material-icons\" *ngIf=\"mainImage\">zoom_in</i>\r\n    <eld-shared-image\r\n      class=\"rounded-edges\"\r\n      [@fadeIn]\r\n      *ngIf=\"mainImage?.largeImageUrl || standardImageUrl\"\r\n      [imageURL]=\"mainImage?.largeImageUrl ? mainImage.largeImageUrl : standardImageUrl\"\r\n      [alt]=\"offer?.itemName\">\r\n    </eld-shared-image>\r\n  </div>\r\n  <div class=\"extra-images\" *ngIf=\"smallImages\">\r\n    <div class=\"extra-image\" *ngFor=\"let smallImage of smallImages\">\r\n      <eld-shared-image\r\n        [imageURL]=\"smallImage.smallImageUrl\"\r\n        [alt]=\"offerTitle\"\r\n        (click)=\"setAsMainImage(smallImage)\"\r\n      ></eld-shared-image>\r\n    </div>\r\n  </div>\r\n</div>\r\n<eld-buy-now-card\r\n  *ngIf=\"buyNowFormGroup\"\r\n  [offer]=\"offer\"\r\n  [buyNowFormGroup]=\"buyNowFormGroup\"\r\n  [currentUserProfile]=\"currentUserProfile\"\r\n  [discountDetails]=\"discountDetails\"\r\n  [userOrderInfo]=\"userOrderInfo\"\r\n  [deliveryTime]=\"deliveryTime\"\r\n  [offerSplitter]=\"offerSplitter\"\r\n  [offerType]=\"offerType\"\r\n  (buttonPress)=\"onCheckout()\">\r\n</eld-buy-now-card>\r\n<eld-trade-shield-block [type]=\"tradeShieldBlockEnum.SecureGuarantee\"></eld-trade-shield-block>\r\n<eld-trade-shield-block *ngIf=\"offerType === itemTreeTypeEnum.Account\" [type]=\"tradeShieldBlockEnum.AccountInsurance\"></eld-trade-shield-block>\r\n<div *ngIf=\"false && !isUserAlsoSeller()\" class=\"report-offer\">\r\n  <span class=\"label\">\r\n    <i class=\"material-icons\">outlined_flag</i>\r\n    <span i18n=\"COMMON.REPORT_OFFER\">Report this offer</span>\r\n  </span>\r\n</div>\r\n<div class=\"offer-seller-wrapper\">\r\n  <div class=\"offer-seller-head\">\r\n    <span i18n=\"GAME_OFFER.OTHER_SELLERS\" (click)=\"scrollToSellers()\" *ngIf=\"otherSellersList?.recordCount as otherSellersCount\">\r\n      Other sellers ({{otherSellersCount}})\r\n    </span>\r\n  </div>\r\n  <div class=\"offer-seller\">\r\n    <eld-shared-user-short-info\r\n      [user]=\"user\"\r\n      [userOrderInfo]=\"userOrderInfo\">\r\n    </eld-shared-user-short-info>\r\n  </div>\r\n  <div\r\n    *ngIf=\"offerType === itemTreeTypeEnum.Boosting && !isUserSeller\"\r\n    class=\"contact-seller\"\r\n  >\r\n    <eld-shared-button\r\n      (buttonClick)=\"onContactSeller()\"\r\n      icon=\"email\"\r\n      [color]=\"buttonColorEnum.Sapphire\"\r\n      text=\"Contact seller\"\r\n    ></eld-shared-button>\r\n  </div>\r\n  <div\r\n    #offerDetailsDescription\r\n    class=\"offer-details-description\"\r\n    *ngIf=\"offer?.description\"\r\n    [ngClass]=\"{'description-partly-hidden': isDescriptionPartlyHidden}\"\r\n    >\r\n    <h5 i18n=\"COMMON.DESCRIPTION\">Description</h5>\r\n    <p class=\"hyphenate\">{{offer.description}}</p>\r\n    <div class=\"read-more\">\r\n      <span i18n=\"COMMON.READ_MORE\" (click)=\"clickReadMore()\">Read more</span>\r\n    </div>\r\n    <div class=\"read-less\" *ngIf=\"exceedsDescriptionLimit && !isDescriptionPartlyHidden\">\r\n      <span i18n=\"COMMON.READ_LESS\" (click)=\"clickReadLess()\">Read less</span>\r\n    </div>\r\n  </div>\r\n</div>\r\n","View other sellers ({{otherOffersAmount}}) ","<div *ngIf=\"offerDiscounts?.length > 0\" class=\"discount\" [eldSharedTooltip]=\"discountTooltip\">\r\n  <span class=\"label\">\r\n    <eld-volume-discount-label></eld-volume-discount-label>\r\n    <span i18n=\"COMMON.VOLUME_DISCOUNT\">Volume Discount</span>\r\n  </span>\r\n</div>\r\n\r\n<eld-shared-tooltip-content #discountTooltip placement=\"top\">\r\n  <eld-shared-discounts-tooltip-content\r\n    [discounts]=\"offerDiscounts\"\r\n    [unitSystem]=\"offerUnitSystem\"\r\n  ></eld-shared-discounts-tooltip-content>\r\n</eld-shared-tooltip-content>\r\n","<!-- Desktop version -->\r\n<ng-container *ngIf=\"screenWidth > screenWidthTypeEnum.XL\">\r\n  <div\r\n    class=\"offer-seller-card\"\r\n    (click)=\"onOtherOfferClick($event, offerDetails.offer.id)\"\r\n    *ngFor=\"let offerDetails of otherSellersList?.results\">\r\n    <eld-shared-user-short-info\r\n      [user]=\"offerDetails.user\"\r\n      [userOrderInfo]=\"offerDetails.userOrderInfo\">\r\n    </eld-shared-user-short-info>\r\n    <div class=\"detail\">\r\n      <div>\r\n        <span i18n=\"COMMON.IN_STOCK\" class=\"label\">In Stock</span>\r\n        <h5 class=\"value\">{{offerDetails.offer.quantity | number}} {{offerDetails.offer.unitSystem | unitsLetter }}</h5>\r\n      </div>\r\n    </div>\r\n    <div class=\"detail\">\r\n      <div>\r\n        <span i18n=\"COMMON.MIN_QTY\" class=\"label\">Min qty.</span>\r\n        <h5 class=\"value\">{{offerDetails.offer.minQuantity | number}} {{offerDetails.offer.unitSystem | unitsLetter }}</h5>\r\n      </div>\r\n    </div>\r\n    <div class=\"detail\">\r\n      <div>\r\n        <span i18n=\"COMMON.DELIVERY_TIME\" class=\"label\">Delivery time</span>\r\n        <h5 class=\"value\">\r\n          <div class=\"small-chip\" [eldSharedTooltip]=\"deliveryTimeTooltip\">\r\n            <ng-container *ngIf=\"getDeliveryAvg(offerDetails) as deliveryAverage\">\r\n              <span\r\n                class=\"delivery-avg\"\r\n                [class.is-late]=\"deliveryAverage.isLate\"\r\n                [class.is-empty]=\"!deliveryAverage.humanizedDeliveryAvg\"\r\n              >\r\n              {{deliveryAverage.humanizedDeliveryAvg | nullAndZeroReplace}}\r\n              </span>&nbsp;/\r\n            </ng-container>\r\n            <ng-container i18n>{offerDetails.offer.guaranteedDeliveryTime, select,\r\n              Minute20 {20 min}\r\n              Hour1 {1 h}\r\n              Hour5 {5 h}\r\n              Day1 {1 day}\r\n              Day2 {2 days}\r\n              Day7 {7 days}\r\n              Day28 {28 days}\r\n            }</ng-container>\r\n          </div>\r\n        </h5>\r\n      </div>\r\n    </div>\r\n    <div class=\"pricing\">\r\n      <div class=\"price-details\">\r\n        <h4 class=\"unit-price\">\r\n          {{ offerDetails.offer.pricePerUnit.amount | currency:offerDetails.offer.pricePerUnit.currency:'symbol':'1.2-5'}}\r\n        </h4>\r\n        <span class=\"unit-system\">\r\n        &nbsp;/&nbsp;{{offerDetails.offer.unitSystem | unitsLetter:true }}\r\n        </span>\r\n      </div>\r\n      <eld-other-seller-discount\r\n        [offer]=\"offerDetails.offer\"\r\n      ></eld-other-seller-discount>\r\n    </div>\r\n  </div>\r\n\r\n  <eld-shared-tooltip-content i18n=\"OFFER.AVERAGE_GUARANTEED_DELIVERY_TIME\" #deliveryTimeTooltip placement=\"top\">\r\n    Seller average delivery time / Guaranteed delivery time\r\n  </eld-shared-tooltip-content>\r\n</ng-container>\r\n\r\n<!-- Mobile version -->\r\n<ng-container *ngIf=\"screenWidth <= screenWidthTypeEnum.XL\">\r\n  <div\r\n    class=\"offer-seller-card\"\r\n    (click)=\"onOtherOfferClick($event, offerDetails.offer.id)\"\r\n    *ngFor=\"let offerDetails of otherSellersList?.results\">\r\n\r\n    <div class=\"profile-info\">\r\n      <eld-shared-user-short-info\r\n        [user]=\"offerDetails.user\"\r\n        [userOrderInfo]=\"offerDetails.userOrderInfo\">\r\n      </eld-shared-user-short-info>\r\n    </div>\r\n\r\n    <ng-container *ngIf=\"screenWidth > screenWidthTypeEnum.LG\">\r\n      <div class=\"detail\">\r\n        <div>\r\n          <span i18n=\"COMMON.IN_STOCK\" class=\"label\">In Stock</span>\r\n          <h5 class=\"value\">{{offerDetails.offer.quantity | number}} {{offerDetails.offer.unitSystem | unitsLetter }}</h5>\r\n        </div>\r\n      </div>\r\n      <div class=\"detail\">\r\n        <div>\r\n          <span i18n=\"COMMON.MIN_QTY\" class=\"label\">Min qty.</span>\r\n          <h5 class=\"value\">{{offerDetails.offer.minQuantity | number}} {{offerDetails.offer.unitSystem | unitsLetter }}</h5>\r\n        </div>\r\n      </div>\r\n    </ng-container>\r\n\r\n    <div class=\"delivery-pricing\">\r\n      <div class=\"price-details\">\r\n        <h4 class=\"unit-price\">\r\n          {{offerDetails.offer.pricePerUnit.amount | currency:offerDetails.offer.pricePerUnit.currency:'symbol':'1.2-5'}}\r\n        </h4>\r\n        <span class=\"unit-system\">/{{offerDetails.offer.unitSystem | unitsLetter:true}}</span>\r\n      </div>\r\n      <div class=\"delivery-details\">\r\n        <div class=\"detail\">\r\n          <i class=\"material-icons\">alarm</i>\r\n          <h5 class=\"value\" i18n>{offerDetails.offer.guaranteedDeliveryTime, select,\r\n            Minute20 {20 min}\r\n            Hour1 {1 h}\r\n            Hour5 {5 h}\r\n            Day1 {1 day}\r\n            Day2 {2 days}\r\n            Day7 {7 days}\r\n            Day28 {28 days}\r\n          }</h5>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n</ng-container>\r\n","\r\n<ng-container *ngIf=\"offer?.offerState === offerStatusEnum.Active\">\r\n  <!-- Desktop version -->\r\n  <div *ngIf=\"screenWidth > screenTypeEnum.LG\" class=\"game-offer-section\">\r\n    <eld-offer-details-desktop\r\n      [@fadeIn]\r\n      [offer]=\"offer\"\r\n      [user]=\"user\"\r\n      [isUserSeller]=\"isUserAlsoSeller()\"\r\n      [userOrderInfo]=\"userOrderInfo\"\r\n      [otherSellersList]=\"otherSellersList\"\r\n      [offerSplitter]=\"splitter\"\r\n      [offerType]=\"offerType\"\r\n      (contactSeller)=\"onContactSeller($event)\"\r\n      (openImageModal)=\"onOpenImageModal($event)\"\r\n    ></eld-offer-details-desktop>\r\n    <div [@fadeIn] class=\"buy-now-card\">\r\n      <eld-buy-now-card\r\n        *ngIf=\"buyNowFormGroup\"\r\n        [offer]=\"offer\"\r\n        [buyNowFormGroup]=\"buyNowFormGroup\"\r\n        [currentUserProfile]=\"currentUserProfile\"\r\n        [discountDetails]=\"discountDetails\"\r\n        [otherSellersCount]=\"otherSellersList?.recordCount\"\r\n        [userOrderInfo]=\"userOrderInfo\"\r\n        [offerSplitter]=\"splitter\"\r\n        [offerType]=\"offerType\"\r\n        [deliveryTime]=\"deliveryTime\"\r\n        (buttonPress)=\"onCheckout()\">\r\n      </eld-buy-now-card>\r\n      <eld-trade-shield-block [type]=\"tradeShieldBlockEnum.SecureGuarantee\"></eld-trade-shield-block>\r\n      <eld-trade-shield-block *ngIf=\"offerType === itemTreeTypeEnum.Account\" [type]=\"tradeShieldBlockEnum.AccountInsurance\"></eld-trade-shield-block>\r\n      <div *ngIf=\"false && !isUserAlsoSeller()\" class=\"report-offer\">\r\n        <span class=\"label\">\r\n          <i class=\"material-icons\">outlined_flag</i>\r\n          <span i18n=\"COMMON.REPORT_OFFER\">Report this offer</span>\r\n        </span>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <!-- Mobile version -->\r\n  <eld-offer-details-mobile\r\n    *ngIf=\"screenWidth <= screenTypeEnum.LG\"\r\n    [offer]=\"offer\"\r\n    [user]=\"user\"\r\n    [isUserSeller]=\"isUserAlsoSeller()\"\r\n    [userOrderInfo]=\"userOrderInfo\"\r\n    [deliveryTime]=\"deliveryTime\"\r\n    [otherSellersList]=\"otherSellersList\"\r\n    [buyNowFormGroup]=\"buyNowFormGroup\"\r\n    [currentUserProfile]=\"currentUserProfile\"\r\n    [discountDetails]=\"discountDetails\"\r\n    [offerSplitter]=\"splitter\"\r\n    [offerType]=\"offerType\"\r\n    (buttonPress)=\"onCheckout()\"\r\n    (contactSeller)=\"onContactSeller($event)\"\r\n    (openImageModal)=\"onOpenImageModal($event)\"\r\n  ></eld-offer-details-mobile>\r\n</ng-container>\r\n\r\n<eld-offer-not-available-card\r\n  *ngIf=\"offer && offer.offerState !== offerStatusEnum.Active\"\r\n  [otherOffersAmount]=\"otherSellersList?.recordCount\">\r\n</eld-offer-not-available-card>\r\n\r\n<div id=\"other-sellers\" *ngIf=\"otherSellersList?.recordCount > 0\" [@fadeIn] class=\"other-sellers-section\">\r\n  <h4 i18n=\"COMMON.OTHER_SELLERS_AVAILABLE\">Other Sellers available ({{otherSellersList?.recordCount}})</h4>\r\n  <eld-other-sellers-for-offer\r\n    [screenWidth]=\"screenWidth\"\r\n    [otherSellersList]=\"otherSellersList\"\r\n    (navigateToAnotherOffer)=\"onNavigateToAnotherOffer($event)\">\r\n  </eld-other-sellers-for-offer>\r\n  <eld-shared-pagination\r\n    *ngIf=\"otherSellersList\"\r\n    [recordCount]=\"otherSellersList?.recordCount\"\r\n    [pageSize]=\"pageSize\"\r\n    [pageIndex]=\"pageIndex\"\r\n    (changePage)=\"onPageChange($event)\">\r\n  </eld-shared-pagination>\r\n</div>\r\n","<div class=\"offer-seller-details\">\r\n    <eld-shared-profile-picture\r\n      [picture]=\"user.picture\"\r\n      [altText]=\"user.username\"\r\n      [sizePx]=\"50\">\r\n    </eld-shared-profile-picture>\r\n  <div class=\"offer-seller-info\" *ngIf=\"user\">\r\n    <h5 class=\"offer-seller-username\">\r\n      <a\r\n        (click)=\"$event.stopPropagation()\"\r\n        [routerLink]=\"[getPublicUserProfileUrl()]\"\r\n        [queryParams]=\"{\r\n        tab: userTabEnum.Offers,\r\n        itemTreeType: itemTreeTypeEnum.Currency\r\n      }\">{{user.username}}</a>\r\n      <i\r\n        class=\"material-icons verified-icon\"\r\n        *ngIf=\"user.isVerified\"\r\n        [eldSharedTooltip]=\"tradeShieldTooltip\"\r\n      >verified_user</i>\r\n    </h5>\r\n    <div class=\"offer-seller-ratings\">\r\n      <a\r\n        (click)=\"$event.stopPropagation()\"\r\n        [routerLink]=\"[getUserFeedbackUrl()]\"\r\n        [queryParams]=\"{tab: userTabEnum.Feedback}\"\r\n        class=\"offer-seller-feedback-score small-chip-link\"\r\n      >\r\n        <span class=\"small-chip score-chip\" [eldSharedTooltip]=\"feedbackScoreTooltip\">\r\n          <i class=\"material-icons\">star</i>\r\n          <span *ngIf=\"userOrderInfo?.satisfactionScore !== 0\">{{userOrderInfo?.satisfactionScore | number: '1.0-1'}}%</span>\r\n          <span *ngIf=\"userOrderInfo?.satisfactionScore === 0\">-</span>\r\n        </span>\r\n      </a>\r\n      <span class=\"small-chip completed-orders-chip\" [eldSharedTooltip]=\"completedOrdersTooltip\">\r\n        <i class=\"material-icons\">swap_horiz</i>\r\n        <span>{{userOrderInfo?.completedOrders | nullAndZeroReplace}}</span>\r\n      </span>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<eld-shared-tooltip-content i18n=\"COMMON.USER_VERIFIED_ICON\" #tradeShieldTooltip placement=\"top\">\r\n  <ng-container>User successfully provided a government ID.</ng-container>\r\n</eld-shared-tooltip-content>\r\n\r\n<eld-shared-tooltip-content i18n=\"FEEDBACK.FEEDBACK_SCORE\" #feedbackScoreTooltip placement=\"top\" class=\"feedback-tooltip\">\r\n  <strong>Feedback Score</strong><br><hr>Positive Feedback / Feedback Count\r\n</eld-shared-tooltip-content>\r\n\r\n<eld-shared-tooltip-content i18n=\"GAME_OFFER.COMPLETED_ORDERS\" #completedOrdersTooltip placement=\"top\" class=\"feedback-tooltip\">\r\n  <strong>Feedback Count</strong><br><hr>Completed Orders and Cancelled Orders that have feedback.\r\n</eld-shared-tooltip-content>\r\n"]}